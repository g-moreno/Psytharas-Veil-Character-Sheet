<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Into the Psythara Veil — Character Creator</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400..900&display=swap" rel="stylesheet">
  <link rel-"stylesheet" href="style.css">

</head>
<body>
  <div class="stars" id="stars-container"></div>
  <div class="wrap grid cols" id="app">
    <div class="panel" style="grid-column: span 12">
      <h1>Into the Psythara Veil — Character Creator</h1>
      <div class="muted">Level 1–5 Quick Builder Character Sheet<br>Created by X2//Gabriel Moreno<br>Based on the game "Into the Psythara Veil" by Harold Gonzalez</div>
    </div>

    <div class="panel" style="grid-column: span 6">
      <h2>// Identity</h2>
      <div class="profile-pic-container">
        <div class="profile-pic-frame" id="profile-pic-frame">
          <img id="profile-pic-preview" src="" alt="Character Profile Picture">
        </div>
        <div class="name-input-large">
          <label>Character Name</label>
          <input id="name" type="text" placeholder="e.g., Kessa Vox" />
          <hr />
          <div class="flex" style="justify-content: space-between;">
            <div>
              <label>Level</label>
              <input id="level" type="number" min="1" max="5" value="1" style="width: 80px;" />
            </div>
            <label for="profile-pic-input" class="btn secondary" style="align-self: flex-end;">Upload Pic</label>
            <input type="file" id="profile-pic-input" accept="image/*" class="profile-pic-input">
          </div>
        </div>
      </div>
      <div class="row">
        <div>
          <label>Species</label>
          <select id="species"></select>
        </div>
        <div>
          <label>Class</label>
          <select id="clazz"></select>
        </div>
      </div>
      <div class="divider"></div>
      <div class="kv"><div>Role</div><div class="mono" id="role">–</div></div>
      <div class="kv"><div>Starting HP</div><div class="mono" id="startingHP">–</div></div>
      <div class="kv"><div>HP / Level (by role)</div><div class="mono" id="hpPerLevel">–</div></div>
      <div class="kv"><div>Total HP @ Level</div><div class="mono" id="totalHP">–</div></div>
      <div class="kv"><div>Focus Points</div><div class="mono" id="focus">2</div></div>
      <div class="notice">Focus: 2 at level 1; spend to reuse specials this combat, add +1d4 after seeing a roll, or pop to 1 HP once per combat.</div>
    </div>

    <div class="panel" style="grid-column: span 6">
      <h2>// Attributes (Point Buy)</h2>
      <div class="muted">Start with 27 points. All stats begin at 8. Cost increases for higher scores.</div>
      <div class="points-left" id="points-left">Points Left: 27</div>
      <div class="divider"></div>
      <div class="stat-cost-grid" id="stats">
        </div>
      <div id="speciesBonusUI" style="margin-top:10px"></div>
      <div class="divider"></div>
      <button class="btn" id="lock-stats-btn" onclick="toggleLockStats()">Lock Stats</button>
      <div class="divider"></div>
      <div class="final-stats-container">
        <div class="final-stat-chip"><h3>STR</h3><span class="mono" id="STR_final">–</span></div>
        <div class="final-stat-chip"><h3>AGI(DEX)</h3><span class="mono" id="AGI_final">–</span></div>
        <div class="final-stat-chip"><h3>CON</h3><span class="mono" id="CON_final">–</span></div>
        <div class="final-stat-chip"><h3>INT</h3><span class="mono" id="INT_final">–</span></div>
        <div class="final-stat-chip"><h3>WIS</h3><span class="mono" id="WIS_final">–</span></div>
        <div class="final-stat-chip"><h3>CHA</h3><span class="mono" id="CHA_final">–</span></div>
      </div>
    </div>

    <div class="panel" style="grid-column: span 7">
      <h2>// Loadout</h2>
      <div class="two">
        <div>
          <label>Starter Weapon</label>
          <select id="weapon"></select>
          <div class="muted" id="weaponInfo"></div>
        </div>
        <div>
          <label>Armor</label>
          <select id="armor"></select>
          <div class="muted" id="armorInfo"></div>
        </div>
      </div>
      <div class="two" style="margin-top:10px">
        <div>
          <label><input type="checkbox" id="toggleNamedArmor" checked /> Use Named Armor stats (AC 12–15, special perks)</label>
        </div>
        <div>
          <label><input type="checkbox" id="hasShield" /> Using a shield (+1 AC)</label>
        </div>
      </div>
      <div class="divider"></div>
      <div class="three">
        <div class="kv"><div>Armor Type</div><div class="mono" id="armorType">–</div></div>
        <div class="kv"><div>AC (calculated)</div><div class="mono" id="ac">–</div></div>
        <div class="kv"><div>Notes</div><div class="mono" id="acNotes">–</div></div>
      </div>
    </div>

    <div class="panel" style="grid-column: span 5">
      <h2>// Features</h2>
      <div class="three">
        <div>
          <label>Utility A</label>
          <select id="utilA"></select>
        </div>
        <div>
          <label>Utility B</label>
          <select id="utilB"></select>
        </div>
        <div>
          <label>Special (from weapon)</label>
          <div class="mono" id="specialName">–</div>
        </div>
      </div>
      <div class="divider"></div>
      <details>
        <summary>Special & Utilities</summary>
        <div id="featureText" class="muted" style="margin-top:8px"></div>
      </details>
    </div>

    <div class="panel" style="grid-column: span 12">
      <h2>// Dice Roller</h2>
      <div class="dice-container">
        <button class="dice-btn selected-die" data-sides="4">D4</button>
        <button class="dice-btn" data-sides="6">D6</button>
        <button class="dice-btn" data-sides="8">D8</button>
        <button class="dice-btn" data-sides="10">D10</button>
        <button class="dice-btn" data-sides="12">D12</button>
        <button class="dice-btn" data-sides="20">D20</button>
        <button class="dice-btn" data-sides="100">D100</button>
      </div>
      <div class="dice-roll-controls">
        <label>Rolls:</label>
        <input type="number" id="num-rolls" value="1" min="1" max="10" style="width:60px;" />
        <button class="btn secondary" id="btn-adv" onclick="toggleAdv(this)">Advantage</button>
        <button class="btn secondary" id="btn-dis" onclick="toggleDis(this)">Disadvantage</button>
        <button class="btn" id="roll-button">Roll Dice</button>
      </div>
      <div class="dice-results" id="dice-results"></div>
    </div>

    <div class="panel" style="grid-column: span 12">
      <h2>// Export / Print</h2>
      <div class="flex">
        <button class="btn" id="btnExport">Export JSON</button>
        <button class="btn secondary" id="btnPrint">Print Sheet</button>
        <div class="muted">Your selections are saved to localStorage automatically.</div>
      </div>
    </div>

    <div class="panel" style="grid-column: span 12">
      <h2>// Sheet Preview</h2>
      <div class="four">
        <div>
          <h3>Identity</h3>
          <div id="pv_identity" class="muted"></div>
        </div>
        <div>
          <h3>Defenses</h3>
          <div id="pv_def" class="muted"></div>
        </div>
        <div>
          <h3>Offense</h3>
          <div id="pv_off" class="muted"></div>
        </div>
        <div>
          <h3>Features</h3>
          <div id="pv_feat" class="muted"></div>
        </div>
      </div>
    </div>

    <footer class="muted" style="grid-column: span 12">
      Built for your homebrew packets. Rules referenced: starting HP by role, Focus, armor & AC (Light/Medium/Heavy/Shield), named armor options per class, species bonuses. Toggle formula vs named armor to fit your table.
    </footer>
  </div>

  <script src="script.js"></script>

</body>
</html>



